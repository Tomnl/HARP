//siah_scale
//An ImageJ macro to create an avi from a stack of images
//Run it like this:
// imagej -b slices_to_avi.txt "/input/folder:/path/to/video.avi"


args = getArgument;
if (args=="") exit ("No argument!");
arg_array = split(args,":");


input_dir = arg_array[0];
output_image = arg_array[1];

image_list = getFileList(input_dir);
print(image_list.length);

//open the image stack
run("Image Sequence...", "open=[" + input_dir + "/" + image_list[0] + "]file=[] or=[] sort use");

//Make the avi
run("AVI... ", "compression=JPEG frame=8 save=" + output_image);


//Can it return a message to say if the conversion was successful?
